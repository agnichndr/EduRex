<mat-card class="bookForm" >
    <mat-card-header class="header">
        <mat-card-title><h2>Add an Article/Book to  your e-Library</h2></mat-card-title>
        <mat-card-subtitle>All fields marked * are required</mat-card-subtitle>
    </mat-card-header>
<form [formGroup]="createBookForm"  >
    <mat-form-field class="form-group" appearance="outline">
        <mat-label>Book/Article Name</mat-label>
        <input matInput formControlName="name" required placeholder="Enter a book or article name" >
        <mat-hint>Book name should not exceed more than 200 characters</mat-hint>
        <mat-hint align="end">{{name.value?.length || 0}}/200</mat-hint>
        <mat-error *ngIf="name.hasError('required')">Value is required</mat-error>
        <mat-error *ngIf="name.hasError('maxlength')">Character Limit Exceeded</mat-error>
    </mat-form-field>

    <mat-form-field class="form-group" appearance="outline">
            <mat-label>Author</mat-label>
            <input matInput formControlName="author" required placeholder="Enter an Author name" >
            <mat-hint>Author name should not exceed more than 100 characters</mat-hint>
            <mat-hint align="end">{{author.value?.length || 0}}/100</mat-hint>
            <mat-error *ngIf="author.hasError('required')">Value is required</mat-error>
            <mat-error *ngIf="author.hasError('pattern')">No Special character other than ' and . is allowed.No numbers allowed</mat-error>
            <mat-error *ngIf="author.hasError('maxlength')">Character Limit Exceeded</mat-error>
        </mat-form-field>

        <mat-form-field class="form-group" appearance="outline" style="width: 90%;">
                <mat-label>Description</mat-label>
                <textarea matInput formControlName="description" required placeholder="Enter Abstract/Description/Introduction of the content" ></textarea>
                <mat-error *ngIf="description.hasError('required')">Value is required</mat-error>
            </mat-form-field>
        
            <mat-form-field  class="form-group" appearance="outline" >
                    <mat-label>Category</mat-label>
                    <input type="text" matInput [formControl]="category" [matAutocomplete]="autoCategory"
                    placeholder="Select a category" (keyup)="apply_filter($event)"  (change)="resetSubCategory($event)" required>
                    <mat-autocomplete #autoCategory="matAutocomplete" >
                      <mat-option *ngFor="let category of filteredcategories" [value]="category.book_category">
                        {{category.book_category}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>

                  <mat-form-field class="form-group" appearance="outline" [hidden]="isSubCategoryDisabled()">
                        <mat-label>Sub-category</mat-label>
                        <input  type="text"  matInput [formControl]="subcategory" [matAutocomplete]="autoSubCategory"
                        placeholder="Select a subcategory" (keyup)="filter_subcategories($event)">
                        <mat-autocomplete #autoSubCategory="matAutocomplete" >
                          <mat-option *ngFor="let subcategory of subcategories" [value]="subcategory">
                            {{subcategory}}
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field><br>
                      <mat-form-field class="form-group" style=" width: 90%;"  appearance="outline">
                        <mat-label>Article/Book </mat-label>
                        <ngx-mat-file-input  accept=".doc,.pdf,.docx,.ppt,.pptx"  placeholder="Browse Documents" required ></ngx-mat-file-input>
                        <mat-hint>Documnent can only be  in .pdf, .ppt or .doc format </mat-hint>
                      </mat-form-field>
               
                    <mat-form-field class="form-group" style=" width: 30%; display: inline-block; margin-right: 100px;"  appearance="outline">
                            <mat-label>Thumbnail Image</mat-label>
                            <ngx-mat-file-input  accept=".jpg,.jpeg"  placeholder="Browse Image"
                            (change)="onSelectThumbnail($event)" required ></ngx-mat-file-input>
                            <mat-hint>Images in .jpg, .jpeg  only allowed </mat-hint>
                          </mat-form-field>
                    
                    <img style="height: 200px; width: 150px;"  mat-card-image src="{{url}}" alt="Chapter Photo"><br>
                                    <mat-hint>Images in .jpg, .jpeg and .png only allowed </mat-hint>
                                    <mat-progress-bar mode="determinate" value="{{thumbnailprogress}}"></mat-progress-bar>
                    <br>

                    <button type="submit" mat-raised-button style="margin-right: 1rem;" color="accent">Save</button>
                    <button type="reset" mat-raised-button>Reset</button>

</form>
</mat-card>